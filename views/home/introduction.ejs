<style>
  .container {
    background: white;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    padding: 20px;
    /* width: 800px; */
    /* text-align: center; */
  }
  .header {
    background: #3b82f6;
    padding: 10px;
    border-radius: 8px 8px 0 0;
    color: white;
    font-size: 1.4rem;
    font-weight: bold;
  }
  .description {
    margin-top: 15px;
    font-size: 1rem;
  }
  .time {
    font-size: 5rem;
    font-weight: bold;
    margin: 20px 0;
    color: #111827;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
  }
  .blink {
    animation: blink 1s step-start infinite;
  }
  @keyframes blink {
    50% {
      opacity: 0;
    }
  }
  button {
    padding: 10px 20px;
    border: none;
    border-radius: 6px;
    font-size: 1rem;
    cursor: pointer;
    margin: 0 5px;
  }
  .start-btn {
    background: #3b82f6;
    color: white;
  }
  .pause-btn {
    background: #facc15;
    color: #111827;
  }
  .pause-btn:disabled,
  .start-btn:disabled {
    background: #ccc;
    cursor: not-allowed;
  }
</style>

<div class="container">
  <div class="header">Phần thi Tự giới thiệu</div>
  <div class="description text-justify">
    Các học viên lựa chọn hình thức thể hiện để giới thiệu về trường, đội của
    mình, khái quát ý nghĩa thiết thực trong nghiên cứu, học tập chủ nghĩa
    Mác-Lênin, tư tưởng Hồ Chí Minh và nhận thức chính trị - xã hội.<br /><br />
    <strong>Thời gian: 5 phút.</strong>
  </div>
  <div id="timer" class="time text-center">05:00</div>
  <div class="text-center">
    <button id="startBtn" class="start-btn">Bắt đầu</button>
    <button id="pauseBtn" class="pause-btn" disabled>Dừng</button>
  </div>
</div>
<div class="text-center">
  <a href="/test" class="btn btn-success mt-3" id="btnBack">
    Về trang phần thi
  </a>
</div>

<script>
  let totalTime = 300; // 5 phút
  let timeLeft = totalTime;
  let timerInterval = null;
  let isRunning = false;

  const timerDisplay = document.getElementById("timer");
  const startBtn = document.getElementById("startBtn");
  const pauseBtn = document.getElementById("pauseBtn");

  function updateDisplay() {
    const minutes = String(Math.floor(timeLeft / 60)).padStart(2, "0");
    const seconds = String(timeLeft % 60).padStart(2, "0");
    timerDisplay.textContent = `${minutes}:${seconds}`;
  }

  function startTimer() {
    if (!isRunning) {
      timerInterval = setInterval(() => {
        if (timeLeft > 0) {
          timeLeft--;
          updateDisplay();

          if (timeLeft <= 10) {
            timerDisplay.classList.add("blink");
          }

          if (timeLeft === 0) {
            clearInterval(timerInterval);
            timerDisplay.textContent = "Hết giờ";
            pauseBtn.disabled = true;
          }
        }
      }, 1000);
      isRunning = true;
    }
  }

  function pauseTimer() {
    clearInterval(timerInterval);
    isRunning = false;
  }

  startBtn.addEventListener("click", () => {
    startTimer();
    startBtn.disabled = true;
    pauseBtn.disabled = false;
  });

  pauseBtn.addEventListener("click", () => {
    if (isRunning) {
      pauseTimer();
      pauseBtn.textContent = "Tiếp tục";
    } else {
      startTimer();
      pauseBtn.textContent = "Dừng";
    }
  });

  updateDisplay();
</script>
